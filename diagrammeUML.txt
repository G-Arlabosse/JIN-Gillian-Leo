@startuml

abstract	Entity{
{field} 	- hp : int
{field}		- levelMediator
{method}	+ recieveDamage(damage)
}

class		Player{
{field} 
{method}
}

abstract	Enemy{
{field} 
{method}
}

class		Corn{
{field} 
{method}
}

class		Milk{
{field} 
{method}
}

class		Carrot{
{field} 
{method}
}

class		Wall{
{field} 
{method}
}

class 		Door{
{field}		
{method}
}

class		WorldManager{
{field} 	- level: std::unique_ptr<LevelManager>
{method}	+ notifyTransition(enum direction)
}
LevelManager *-- Door
Door --> WorldMediator
WorldManager ..|> WorldMediator

class		GameManager{
{field} 	
{method}	
}

class		LevelManager{
{field} 	- enemies: map<int32_t, enemy>
{field}		- walls: vector<Wall>
{field}		- player: Player
{method}	+ notifyDamage(int32_t, damage)
{method}	+ notifyDeath(int32_t)
}

interface 	LevelMediator{
{method}	+ notifyDamage(int32_t, damage)
{method}	+ notifyDeath(int32_t)
}

interface	WorldMediator{
{method}	+ notifyTransition(enum direction)
}

class		UpdateNotifier{
{field}		- UpdateListeners: vector<tempoListener*>
{method}	+ addUpdateListener(tempoListener*)
{method}	+ notifyTempoUpdate()
{method}	+ notifyUpdate()
}

interface	UpdateListener{
{method}	+ update()
{method}	+ updateTempo()
}

class		Graph{
{field} 
{method}
}

class		Hitbox{
{field} 	- levelMediador
{method}	+ notifyHit(shapeId)
}

class		Hurtbox{
{field} 
{method}
}

class		Projectile{
{field} 
{method}
}

class		TextureHandler{
{field}		- texture
{method}	+ update(clock)
}


Player ..|> Entity
Enemy ..|> Entity
Corn ..|> Enemy
Milk ..|> Enemy
Carrot ..|> Enemy

GameManager *-- WorldManager
WorldManager*-- LevelManager
LevelManager *-- Graph
Entity --> Graph

LevelManager *-- Enemy
LevelManager *-- Player
LevelManager *-- Wall

Hitbox --> LevelMediator
Entity --> LevelMediator
LevelManager ..|> LevelMediator

Entity *-- Hitbox
Projectile *-- Hitbox
Wall *-- Hurtbox
Entity *-- Hurtbox

Entity *-- TextureHandler
Wall *--> TextureHandler
Projectile *--> TextureHandler

' vvv Changer pour un Prototype pattern vvv
Corn *-- Projectile

@enduml